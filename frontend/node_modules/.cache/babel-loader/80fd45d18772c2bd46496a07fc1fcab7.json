{"ast":null,"code":"var _jsxFileName = \"/home/salim/Projects/React/project_album/frontend/src/Navs/SidebarAccount.js\";\nimport React, { Component } from 'react';\nimport { Menu } from 'semantic-ui-react';\nimport { Link, withRouter } from 'react-router-dom';\nimport { AuthUserContext } from '../Session';\nimport * as ROUTES from '../constants/routes';\nimport { compose } from 'recompose';\nimport { withFirebase } from '../Firebase';\n\nclass SidebarAccountBase extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {// username: ''\n    };\n  }\n\n  componentDidMount() {\n    const rehydrate = JSON.parse(localStorage.getItem('savedUsername'));\n    this.setState(rehydrate);\n\n    try {\n      // const email = this.props.firebase.displayUserEmail()\n      const uid = this.props.firebase.getUid(); // console.log(uid)\n\n      this.props.firebase.user(uid).get().then(doc => {\n        let data = doc.data(); // console.log(data.username)\n\n        let username = data.username;\n        this.setState({\n          username\n        });\n      });\n      /* this.setState({\n          email\n      }) */\n    } catch (error) {\n      this.setState({\n        email: null\n      });\n    }\n\n    this.forceUpdate();\n  }\n\n  componentWillUnmount() {\n    localStorage.setItem('savedUsername', JSON.stringify(this.state));\n  }\n\n  render() {\n    const username = this.state.username;\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, React.createElement(AuthUserContext.Consumer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, authUser => authUser ? React.createElement(Menu.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, username, React.createElement(Menu.Menu, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(Menu.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, \"Signed in as \", React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, authUser.email)), React.createElement(Menu.Item, {\n      as: Link,\n      to: ROUTES.ACCOUNT,\n      style: {\n        fontSize: 14,\n        paddingLeft: 30,\n        paddingBottom: 10,\n        color: \"rgba(255,255,255,.9)\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, \"Account\"), React.createElement(Menu.Item, {\n      as: Link,\n      to: ROUTES.SETTINGS,\n      style: {\n        fontSize: 14,\n        paddingLeft: 30,\n        paddingBottom: 10,\n        color: \"rgba(255,255,255,.9)\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, \"Settings\"), React.createElement(Menu.Item, {\n      onClick: () => {\n        this.setState({\n          username: ''\n        });\n        this.props.firebase.signOut();\n      },\n      to: ROUTES.ACCOUNT,\n      style: {\n        fontSize: 14,\n        paddingLeft: 30,\n        color: \"rgba(255,255,255,.9)\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, \"Sign Out\"))) : React.createElement(Menu.Item, {\n      as: Link,\n      to: ROUTES.SIGN_IN,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, \"Sign In\")));\n  }\n\n}\n\nconst SidebarAccount = compose(withRouter, withFirebase)(SidebarAccountBase);\nexport default SidebarAccount;","map":{"version":3,"sources":["/home/salim/Projects/React/project_album/frontend/src/Navs/SidebarAccount.js"],"names":["React","Component","Menu","Link","withRouter","AuthUserContext","ROUTES","compose","withFirebase","SidebarAccountBase","constructor","props","state","componentDidMount","rehydrate","JSON","parse","localStorage","getItem","setState","uid","firebase","getUid","user","get","then","doc","data","username","error","email","forceUpdate","componentWillUnmount","setItem","stringify","render","authUser","ACCOUNT","fontSize","paddingLeft","paddingBottom","color","SETTINGS","signOut","SIGN_IN","SidebarAccount"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,IAAT,QAAqB,mBAArB;AACA,SAASC,IAAT,EAAeC,UAAf,QAAiC,kBAAjC;AACA,SAASC,eAAT,QAAgC,YAAhC;AACA,OAAO,KAAKC,MAAZ,MAAwB,qBAAxB;AACA,SAASC,OAAT,QAAwB,WAAxB;AACA,SAASC,YAAT,QAA6B,aAA7B;;AAEA,MAAMC,kBAAN,SAAiCR,SAAjC,CAA2C;AACvCS,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa,CACT;AADS,KAAb;AAGH;;AAEDC,EAAAA,iBAAiB,GAAG;AAChB,UAAMC,SAAS,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,eAArB,CAAX,CAAlB;AACA,SAAKC,QAAL,CAAcL,SAAd;;AAEA,QAAI;AACA;AACA,YAAMM,GAAG,GAAG,KAAKT,KAAL,CAAWU,QAAX,CAAoBC,MAApB,EAAZ,CAFA,CAGA;;AAEA,WAAKX,KAAL,CAAWU,QAAX,CACKE,IADL,CACUH,GADV,EAEKI,GAFL,GAGKC,IAHL,CAGUC,GAAG,IAAI;AACT,YAAIC,IAAI,GAAGD,GAAG,CAACC,IAAJ,EAAX,CADS,CAET;;AACA,YAAIC,QAAQ,GAAGD,IAAI,CAACC,QAApB;AACA,aAAKT,QAAL,CAAc;AACVS,UAAAA;AADU,SAAd;AAGH,OAVL;AAYA;;;AAIH,KArBD,CAqBE,OAAOC,KAAP,EAAc;AACZ,WAAKV,QAAL,CAAc;AACVW,QAAAA,KAAK,EAAE;AADG,OAAd;AAGH;;AACD,SAAKC,WAAL;AACH;;AAEDC,EAAAA,oBAAoB,GAAG;AACnBf,IAAAA,YAAY,CAACgB,OAAb,CAAqB,eAArB,EAAsClB,IAAI,CAACmB,SAAL,CAAe,KAAKtB,KAApB,CAAtC;AACH;;AAEDuB,EAAAA,MAAM,GAAG;AAAA,UACGP,QADH,GACgB,KAAKhB,KADrB,CACGgB,QADH;AAEL,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,eAAD,CAAiB,QAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEQQ,QAAQ,IACJA,QAAQ,GACF,oBAAC,IAAD,CAAM,IAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGR,QADH,EAGE,oBAAC,IAAD,CAAM,IAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,IAAD,CAAM,IAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACiB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAASQ,QAAQ,CAACN,KAAlB,CADjB,CADJ,EAII,oBAAC,IAAD,CAAM,IAAN;AACI,MAAA,EAAE,EAAE3B,IADR;AAEI,MAAA,EAAE,EAAEG,MAAM,CAAC+B,OAFf;AAGI,MAAA,KAAK,EAAE;AAAEC,QAAAA,QAAQ,EAAE,EAAZ;AAAgBC,QAAAA,WAAW,EAAE,EAA7B;AAAiCC,QAAAA,aAAa,EAAE,EAAhD;AAAoDC,QAAAA,KAAK,EAAE;AAA3D,OAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAJJ,EAWI,oBAAC,IAAD,CAAM,IAAN;AACI,MAAA,EAAE,EAAEtC,IADR;AAEI,MAAA,EAAE,EAAEG,MAAM,CAACoC,QAFf;AAGI,MAAA,KAAK,EAAE;AAAEJ,QAAAA,QAAQ,EAAE,EAAZ;AAAgBC,QAAAA,WAAW,EAAE,EAA7B;AAAiCC,QAAAA,aAAa,EAAE,EAAhD;AAAoDC,QAAAA,KAAK,EAAE;AAA3D,OAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAXJ,EAkBI,oBAAC,IAAD,CAAM,IAAN;AACI,MAAA,OAAO,EAAE,MAAM;AACX,aAAKtB,QAAL,CAAc;AACVS,UAAAA,QAAQ,EAAE;AADA,SAAd;AAGA,aAAKjB,KAAL,CAAWU,QAAX,CAAoBsB,OAApB;AACH,OANL;AAOI,MAAA,EAAE,EAAErC,MAAM,CAAC+B,OAPf;AAQI,MAAA,KAAK,EAAE;AAAEC,QAAAA,QAAQ,EAAE,EAAZ;AAAgBC,QAAAA,WAAW,EAAE,EAA7B;AAAiCE,QAAAA,KAAK,EAAE;AAAxC,OARX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAlBJ,CAHF,CADE,GAqCF,oBAAC,IAAD,CAAM,IAAN;AAAW,MAAA,EAAE,EAAEtC,IAAf;AAAqB,MAAA,EAAE,EAAEG,MAAM,CAACsC,OAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAxClB,CADJ,CADJ;AAmDH;;AAlGsC;;AAqG3C,MAAMC,cAAc,GAAGtC,OAAO,CAC1BH,UAD0B,EAE1BI,YAF0B,CAAP,CAGrBC,kBAHqB,CAAvB;AAKA,eAAeoC,cAAf","sourcesContent":["import React, { Component } from 'react';\nimport { Menu } from 'semantic-ui-react';\nimport { Link, withRouter } from 'react-router-dom'\nimport { AuthUserContext } from '../Session';\nimport * as ROUTES from '../constants/routes'\nimport { compose } from 'recompose';\nimport { withFirebase } from '../Firebase';\n\nclass SidebarAccountBase extends Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            // username: ''\n        }\n    }\n\n    componentDidMount() {\n        const rehydrate = JSON.parse(localStorage.getItem('savedUsername'))\n        this.setState(rehydrate)\n\n        try {\n            // const email = this.props.firebase.displayUserEmail()\n            const uid = this.props.firebase.getUid()\n            // console.log(uid)\n\n            this.props.firebase\n                .user(uid)\n                .get()\n                .then(doc => {\n                    let data = doc.data()\n                    // console.log(data.username)\n                    let username = data.username\n                    this.setState({\n                        username\n                    })\n                })\n\n            /* this.setState({\n                email\n            }) */\n\n        } catch (error) {\n            this.setState({\n                email: null\n            })\n        }\n        this.forceUpdate()\n    }\n\n    componentWillUnmount() {\n        localStorage.setItem('savedUsername', JSON.stringify(this.state))\n    }\n\n    render() {\n        const { username } = this.state\n        return (\n            <div>\n                <AuthUserContext.Consumer>\n                    {\n                        authUser => (\n                            authUser\n                                ? <Menu.Item>\n                                    {username}\n\n                                    <Menu.Menu>\n                                        <Menu.Item>\n                                            Signed in as <strong>{authUser.email}</strong>\n                                        </Menu.Item>\n                                        <Menu.Item\n                                            as={Link}\n                                            to={ROUTES.ACCOUNT}\n                                            style={{ fontSize: 14, paddingLeft: 30, paddingBottom: 10, color: \"rgba(255,255,255,.9)\" }}>\n                                            Account\n                                        </Menu.Item>\n\n                                        <Menu.Item\n                                            as={Link}\n                                            to={ROUTES.SETTINGS}\n                                            style={{ fontSize: 14, paddingLeft: 30, paddingBottom: 10, color: \"rgba(255,255,255,.9)\" }}>\n                                            Settings\n                                        </Menu.Item>\n\n                                        <Menu.Item\n                                            onClick={() => {\n                                                this.setState({\n                                                    username: ''\n                                                })\n                                                this.props.firebase.signOut()\n                                            }}\n                                            to={ROUTES.ACCOUNT}\n                                            style={{ fontSize: 14, paddingLeft: 30, color: \"rgba(255,255,255,.9)\" }}\n                                        >\n                                            Sign Out\n                                        </Menu.Item>\n                                    </Menu.Menu>\n                                </Menu.Item>\n\n                                : <Menu.Item as={Link} to={ROUTES.SIGN_IN}>\n                                    Sign In\n                                    </Menu.Item>\n                        )\n\n                    }\n                </AuthUserContext.Consumer>\n            </div>\n        );\n    }\n}\n\nconst SidebarAccount = compose(\n    withRouter,\n    withFirebase\n)(SidebarAccountBase)\n\nexport default SidebarAccount;"]},"metadata":{},"sourceType":"module"}